javascript:(function()%7B%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20Importing%20libraries%20%0A%2F%2F%20Libraries%3A%20jquery%20%2C%20popper%20and%20pell%20%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0Avar%20jquery_load%20%3D%20document.createElement('script')%3B%0Ajquery_load.src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fjquery%2F3.6.0%2Fjquery.min.js%22%3B%0Ajquery_load.type%3D%22text%2Fjavascript%22%3B%0Adocument.head.appendChild(jquery_load)%3B%0A%0Avar%20jquery_load1%20%3D%20document.createElement('script')%3B%0Ajquery_load1.src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fjqueryui%2F1.12.1%2Fjquery-ui.min.js%22%3B%0Ajquery_load1.type%3D%22text%2Fjavascript%22%3B%0Adocument.head.appendChild(jquery_load1)%3B%0A%0Avar%20jquery_load2%20%3D%20document.createElement('script')%3B%0Ajquery_load2.src%3D%22https%3A%2F%2Fcdnjs.cloudflare.com%2Fajax%2Flibs%2Fjqueryui%2F1.12.1%2Fjquery-ui.min.css%22%3B%0Ajquery_load2.type%3D%22text%2Fcss%22%3B%0Adocument.head.appendChild(jquery_load2)%3B%0A%0A%2F%2F%20popper%20helps%20in%20aligning%20the%20annotations%0A%0Avar%20popper_load%20%3D%20document.createElement('script')%3B%0Apopper_load.src%3D%22https%3A%2F%2Funpkg.com%2F%40popperjs%2Fcore%402%22%3B%0Apopper_load.type%3D%22text%2Fjavascript%22%3B%0Adocument.head.appendChild(popper_load)%3B%0A%0A%2F%2F%20pell-%20text%20editor%20%0Avar%20pell_load%20%3D%20document.createElement('script')%3B%0Apell_load.src%3D%22https%3A%2F%2Funpkg.com%2Fpell%22%3B%0Apell_load.type%3D%22text%2Fjavascript%22%3B%0Adocument.head.appendChild(pell_load)%3B%0A%0Avar%20pell_css%20%3D%20document.createElement('script')%3B%0Apell_css.src%3D%22https%3A%2F%2Funpkg.com%2Fpell%2Fdist%2Fpell.min.css%22%3B%0Apell_css.type%3D%22text%2Fcss%22%3B%0Adocument.head.appendChild(pell_css)%3B%0A%0A%0A%2F%2F%2F%2F%20variables%0Avar%20note_count%3D1%3B%0A%0A%0A%0A%0Adocument.addEventListener('keydown'%2C%20highlightText)%3B%20%20%0A%0Afunction%20highlightText(e)%7B%0A%20%20%09var%20toggleHighlight%3D%20false%3B%0A%20%20%0A%20%20%20%20%0A%20%2F%2F%2F%2F%2F%2F%2F%2F%20save%20annotation%20block%20%2F%2F%2F%2F%2F%2F%2F%0A%2F%2F%2F%20Saves%20the%20annotations%20to%20local%20.txt%20file%20when%20key-3%20is%20pressed%0A%20%20%20%20%0A%20%20%20%20%0A%20%20if(e.keyCode%3D%3D50)%7B%0A%20%20%20%20%20%0A%0A%20%20%20%20var%20dict%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%2F%2F%20grab%20all%20notes%0A%20%20%20%20var%20allNotes%3Ddocument.getElementsByClassName(%22ui-widget-content%22)%3B%0A%20%20%20%20var%20allNotes_html%20%3D%20''%0A%0A%20%20%20%20for(var%20i%3D0%3Bi%3CallNotes.length%3Bi%2B%2B)%7B%0A%20%20%20%20%20%20%20%20allNotes_html%2B%3D%20allNotes%5Bi%5D.outerHTML%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Replace%20id's%20%20%20%20%20%0A%20%20%20%0A%20%20%20%20%7D%0A%0A%20%20%20%20dict%5Bwindow.location.href.replace(%2F(%5E%5Cw%2B%3A%7C%5E)%5C%2F%5C%2F%2F%2C%20'')%5D%20%3D%20allNotes_html%3B%20%2F%2Fthe%20href.replace%20re%20removes%20the%20http%2Fhttps%20from%20the%20url%20%0A%20%20%20%20%0A%0A%20%20%20%20var%20encode_obj%3D%20encodeURIComponent(JSON.stringify(dict))%3B%0A%0A%20%20%20%20var%20makeNewID%20%3D%20Number(new%20Date())%3B%0A%20%20%20%20encode_obj%20%3D%20encode_obj.replaceAll(%22tooltip%22%2C%22tooltip%22%2B%20makeNewID)%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%2F%2F%20save%20note%20%20as%20text%20file%0A%20%20%20%20var%20hiddenElement%20%3D%20document.createElement('a')%3B%0A%20%20%20%20hiddenElement.href%20%3D%20'data%3Atext%2Ftxt%3Bcharset%3Dutf-8%2C'%20%2B%20encode_obj%3B%0A%20%20%20%20hiddenElement.target%20%3D%20'_blank'%3B%0A%20%20%20%20hiddenElement.download%20%3D%20'annotations'%2B%20window.location.href.replace(%2F(%5E%5Cw%2B%3A%7C%5E)%5C%2F%5C%2F%2F%2C%20'')%20%2B'.txt'%3B%0A%20%20%20%20hiddenElement.click()%3B%0A%0A%0A%0A%20%20%20%20%20%7D%0A%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20Upload%20annotations%20block%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%2F%2F%20Allow%20user%20to%20upload%20annotations%20when%20the%202%20key%20is%20pressed-%20code%20adapted%20from%20https%3A%2F%2Fstackoverflow.com%2Fquestions%2F19038919%2Fis-it-possible-to-upload-a-text-file-to-input-in-html-js%2F19039880%0A%20%20%20%20%0A%20%20%20%20%0A%20%20if(e.keyCode%3D%3D51)%7B%0A%0Afunction%20uploadText()%20%7B%0A%20%20%20%20return%20new%20Promise((resolve)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20create%20file%20input1%601%0A%20%20%20%20%20%20%20%20const%20uploader%20%3D%20document.createElement('input')%0A%20%20%20%20%20%20%20%20uploader.type%20%3D%20'file'%0A%20%20%20%20%20%20%20%20uploader.style.display%20%3D%20'none'%0A%20%20%20%20%20%20%09uploader.multiple%3Dtrue%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20listen%20for%20files%0A%20%20%20%20%20%20%20%20uploader.addEventListener('change'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20files%20%3D%20uploader.files%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(files.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for(var%20dd%3D0%3Bdd%3Cfiles.length%3Bdd%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20reader%20%3D%20new%20FileReader()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.addEventListener('load'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20uploader.parentNode.removeChild(uploader)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20resolve(reader.result)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reader.readAsText(files%5B0%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20trigger%20input%0A%20%20%20%20%20%20%20%20document.body.appendChild(uploader)%0A%20%20%20%20%20%20%20%20uploader.click()%0A%20%20%20%20%7D)%0A%7D%0A%0A%2F%2F%20usage%20example%0AuploadText().then(text%20%3D%3E%20%7B%0A%2F%2F%20%20%20%20%20once%20loaded%20check%20update%20the%20html%20page%20if%20the%20dictionary%20has%20the%20notes%20for%20the%20current%20URL%20%0A%20%20%20%20var%20UserUploadedAnnotaions%3D%20JSON.parse(text)%5Bwindow.location.href.replace(%2F(%5E%5Cw%2B%3A%7C%5E)%5C%2F%5C%2F%2F%2C%20'')%20%5D%3B%0A%20%20%20%20var%20AnnotationsBlock%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%0A%20%20%20%20AnnotationsBlock.id%20%3D%22ImportedAnnotations%22%3B%0A%20%20%20%20AnnotationsBlock.innerHTML%3DUserUploadedAnnotaions%3B%0A%20%20%20%20document.body.appendChild(AnnotationsBlock)%3B%0A%20%20%20%0A%20%20%20%20%2F%2Fupdate%20the%20count%20%0A%20%20%20%20note_count%3Dnote_count%2B1000%3B%0A%0A%20%20%20%20%2F%2F%20Enable%20interactivity%20for%20all%20the%20imported%20annoations%20using%20jquery%0A%20%20%20%20for(var%20dd1%3D0%3Bdd1%3CAnnotationsBlock.childNodes.length%3Bdd1%2B%2B)%7B%0A%0A%20%20%20%20%20%20%20%20for(var%20dd2%3D0%3Bdd2%3CAnnotationsBlock.childNodes%5Bdd1%5D.childNodes.length%3Bdd2%2B%2B)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%24('%23'%2BAnnotationsBlock.childNodes%5Bdd1%5D.childNodes%5Bdd2%5D.id).mousedown(handle_mousedown)%3B%20%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%2F%2F%20allows%20user%20to%20delete%20the%20imported%20annotation%20by%20clicking%20the%20right%20click%20after%20user%20confirmation%0A%20%20%20%20%20%20%20%20AnnotationsBlock.childNodes%5Bdd1%5D.addEventListener('contextmenu'%2C%20function(ev)%20%7B%0A%20%20%20%20%20%20%20%20if(confirm(%22Are%20you%20sure%20you%20want%20to%20delete%20this%20imported%20note%3F%22))%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ev.preventDefault()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ev.target.remove()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%7D%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%7D%0A)%0A%0A%09%09%0A%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20Hightlight%20%2B%20Annotate%20block%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%2F%2F%20highlight%20and%20annotate%20%20when%20tilde(%60)%20key%20is%20pressed%20%0A%0A%20%20%0A%09%09if(e.keyCode%20%3D%3D192)%7B%0A%09%09%09%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20highlighting%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%09%09%09if(window.getSelection().rangeCount%20%3E0)%7B%0A%09%09%09%09%0A%09%09%09%09var%20selection%20%3D%20window.getSelection()%3B%0A%09%09%09%09var%20range%20%3D%20selection.getRangeAt(0)%3B%0A%09%09%09%09var%20newNode%20%3D%20document.createElement(%22span%22)%3B%0A%09%09%09%09newNode.id%20%3D%20%22popcorn%22%2Bnote_count%3B%0A%09%09%09%09newNode.setAttribute(%22style%22%2C%20%22background-color%3A%23d9ffcc%3B%22)%3B%0A%09%09%09%09newNode.addEventListener('mousedown'%2C%20removeHighlight)%3B%20%0A%09%09%09%09function%20removeHighlight()%7B%09%0A%09%09%09%09%09newNode.setAttribute(%22style%22%2C%20%22%22)%3B%20%20%2F%2Fremoves%20the%20highlight%0A%09%09%09%09%7D%0A%0A%0A%09%09%09%09newNode.appendChild(range.extractContents())%3B%60%60%0A%09%09%09%09range.insertNode(newNode)%3B%0A%20%20%20%20%20%20%20%20toggleHighlight%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%0A%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%0A%20%20if(e.keyCode%20%3D%3D49)%7B%09%0A%09%09%09%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20annotate%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%09%09%09if(window.getSelection().rangeCount%20%3E0)%7B%0A%09%09%09%09var%20newNode1%20%3D%20document.createElement(%22div%22)%3B%0A%09%09%09%09newNode1.classList.add(%22ui-widget-content%22)%3B%0A%20%20%20%20%20%20%20%20document.body.appendChild(newNode1)%0A%0A%20%20%20%20%20%20%20%20%0A%09%09%09%09newNode1.setAttribute(%22style%22%2C%20%22z-index%3A100%3Bdisplay%3A%20inline-block%3Bheight%3A%20375px%3B%20resize%3A%20both%3B%20overflow%3Aauto%3B%22)%3B%20%20%20%20%0A%0A%0A%09%09%09%2F%2F%20%20%20very%20simple%20sticky%20note%20interface%20%0A%09%09%09%2F%2F%20%20%20newNode1.innerHTML%3D%20%60%3Cp%20contenteditable%3D%22true%22%20style%3D%22background-color%3A%20%23ffffcc%3Bborder%3A%20none%3Bcolor%3A%20black%3B%20%20padding%3A%2015px%2032px%3B%20text-align%3A%20enter%3B%0A%09%09%09%2F%2F%20%20%20text-decoration%3A%20none%3B%20%20dis%60play%3A%20inline-block%3B%20%20font-size%3A%2016px%3B%20resize%3A%20both%3B%20overflow%3Aauto%3B%22%20%3E%60%2B%20%22Annotate%20here%22%20%2B%22%3C%2Fp%3E%22%3B%0A%0A%0A%09%09%09%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20annotation%20using%20pell%20note%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%0A%09%09%09%2F%2F%20with%20HTML%3A%20For%20tests%20only%20%0A%09%09%09%2F%2F%20newNode1.innerHTML%3D%20%60%0A%09%09%09%2F%2F%20%3Cdiv%20id%3D%60%2B%22tooltip%22%2Bnote_count%20%2B%20%60%20%3E%0A%09%09%09%2F%2F%20%3Cdiv%3E%0A%09%09%09%2F%2F%20%20%20HTML%20output%3A%0A%09%09%09%2F%2F%20%20%20%3Cdiv%20id%3D%22html-output%22%20style%3D%22white-space%3Apre-wrap%3B%22%3E%3C%2Fdiv%3E%0A%09%09%09%2F%2F%20%3C%2Fdiv%3E%0A%09%09%09%2F%2F%20%3C%2Fdiv%3E%0A%09%09%09%2F%2F%20%20%60%3B%0A%0A%0A%09%09%09%20%20newNode1.innerHTML%3D%20%60%0A%09%09%09%3Cdiv%20id%3D%60%2B%22tooltip%22%2Bnote_count%20%2B%20%60%20%3E%0A%09%09%09%3C%2Fdiv%3E%0A%09%09%09%20%60%3B%0A%0A%09%09%09document.getElementById(%22tooltip%22%2Bnote_count).setAttribute(%22style%22%2C%22max-width%3A50%25%3Bmax-height%3A50%25%3Bbackground-color%3A%20%23ffffcc%3Bborder%3A%20none%3Bcolor%3A%20black%3B%20%20padding%3A%2015px%2032px%3B%20text-align%3A%20enter%3Btext-decoration%3A%20none%3B%20%20display%3A%20inline-block%3B%20%20font-size%3A%2016px%3B%20resize%3A%20both%3B%20overflow%3Aauto%3B%22)%0A%0A%0A%0A%09%09%09const%20editor%20%3D%20pell.init(%7B%0A%09%09%09%20%20element%3A%20document.getElementById(%22tooltip%22%2Bnote_count)%2C%0A%09%09%09%20%20onChange%3A%20html%20%3D%3E%20%7B%0A%09%09%09%09document.getElementById('html-output').textContent%20%3D%20html%0A%09%09%09%20%20%7D%2C%0A%09%09%09%20%20defaultParagraphSeparator%3A%20'p'%2C%0A%09%09%09%20%20styleWithCSS%3A%20true%2C%0A%09%09%09%20%20actions%3A%20%5B%0A%09%09%09%09%09'bold'%2C%0A%09%09%09%09%09'italic'%2C%0A%09%09%09%09%09'underline'%2C%0A%09%09%09%09%09'strikethrough'%2C%0A%09%09%09%09%09'heading1'%2C%0A%09%09%09%09%09'heading2'%2C%0A%09%09%09%09%09'paragraph'%2C%0A%09%09%09%09%09'quote'%2C%0A%09%09%09%09%09'olist'%2C%0A%09%09%09%09%09'ulist'%2C%0A%09%09%09%09%09'code'%2C%0A%09%09%09%20%7B%0A%09%09%09%09icon%3A%20'%26%23128247%3B'%2C%0A%09%09%09%09title%3A%20'Image'%2C%0A%09%09%09%09result%3A%20()%20%3D%3E%20%7B%0A%09%09%09%09%20%20const%20url%20%3D%20window.prompt('Enter%20the%20image%20URL')%0A%09%09%09%09%20%20%2F%2Fthis%20implemention%20is%20different%20from%20the%20pell%20documentation%20to%20account%20for%20resizing%0A%09%09%09%09%20%20if%20(url)%20document.execCommand('insertHTML'%2Cfalse%2C%20%60%0A%09%09%09%09%20%20%3Cdiv%20style%3D%22%20resize%3A%20both%3B%20overflow%3Aauto%3B%22%3E%0A%09%09%09%09%09%20%20%3Cimg%20width%3D100%25%20height%3D100%25%20src%3D%60%2Burl%2B%22%3E%3C%2Fdiv%3E%3Cbr%3E%3Cbr%3E%20%22)%0A%09%09%09%09%7D%0A%09%09%09%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%0A%09%09%09%20%7B%0A%09%09%09%09icon%3A%20'%26%2310006%3B'%2C%0A%09%09%09%09title%3A%20'Destroy%20note'%2C%0A%09%09%09%09result%3A%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%09%09%24(%20'%23'%2B%22tooltip%22%20%2B%09event.target.className.slice(-1)%20).remove()%3B%20%2F%2F%20destroys%20the%20note%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24(%20'%23'%2B%22popcorn%22%20%2B%09event.target.className.slice(-1)%20).attr(%22style%22%2C%20%22%22)%3B%20%20%2F%2Fremoves%20the%20highlight%0A%0A%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%0A%09%09%09%20%20%5D%2C%0A%09%09%09%20%20classes%3A%20%7B%0A%09%09%09%09actionbar%3A%20'pell-actionbar-'%2Bnote_count%2C%0A%09%09%09%09button%3A%20'pell-button-'%2Bnote_count%2C%0A%09%09%09%09content%3A%20'pell-content-'%2Bnote_count%2C%0A%09%09%09%09selected%3A%20'pell-button-selected-'%2Bnote_count%0A%09%09%09%20%20%7D%0A%09%09%09%7D)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%09%09%09editor.content.innerHTML%20%3D%20'Enter%20annotation%20here%20'%0A%0A%0A%0A%0A%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2F%2F%2F%2F%20popper%20js%20block%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%09%09%09const%20popcorn%20%3D%20document.querySelector(%22%23%22%2B%22popcorn%22%2Bnote_count)%3B%0A%09%09%09const%20tooltip%20%3D%20document.querySelector('%23'%2B%22tooltip%22%2Bnote_count)%3B%0A%09%09%09const%20popper_instance%20%3D%20Popper.createPopper(popcorn%2C%20tooltip%2C%20%7B%0A%09%09%09%20%20placement%3A%20'auto'%2C%0A%09%09%09%20%20%20modifiers%3A%20%5B%0A%09%09%09%09%20%7B%0A%09%09%09%09%20%20%20name%3A%20'offset'%2C%0A%09%09%09%09%20%20%20options%3A%20%7B%0A%09%09%09%09%09%20offset%3A%20%5B0%2C%200%5D%2C%0A%09%09%09%09%20%20%20%7D%2C%0A%09%09%09%09%7D%2C%0A%09%09%09%7B%20name%3A%20'eventListeners'%2C%20enabled%3A%20false%20%7D%0A%09%09%09%20%20%20%5D%2C%0A%09%09%09%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%09%09%09%24('%23'%2B%22tooltip%22%2Bnote_count).mousedown(handle_mousedown)%3B%20%2F%2F%20move%20popper%0A%0A%0A%0A%0A%0A%09%09note_count%2B%3D1%3B%20%2F%2F%20update%20note%20counter%20%0A%0A%7D%20%20%20%0A%7D%0A%7D%0A%0A%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%20drag%20the%20annotation%20across%20the%20document%20%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%0A%2F%2F%2F%20from%20stackexchange%20-%20insert%20link%20here%20%0Afunction%20handle_mousedown(e)%7B%0A%20%20%20%20window.my_dragging%20%3D%20%7B%7D%3B%0A%20%20%20%20my_dragging.pageX0%20%3D%20e.pageX%3B%0A%20%20%20%20my_dragging.pageY0%20%3D%20e.pageY%3B%0A%20%20%20%20my_dragging.elem%20%3D%20this%3B%0A%20%20%20%20my_dragging.offset0%20%3D%20%24(this).offset()%3B%0A%0A%20%0A%20function%20handle_dragging(e)%7B%0A%20%20%20%20%20%20%20%20var%20left%20%3D%20my_dragging.offset0.left%20%2B%20(e.pageX%20-%20my_dragging.pageX0)%3B%0A%20%20%20%20%20%20%20%20var%20top%20%3D%20my_dragging.offset0.top%20%2B%20(e.pageY%20-%20my_dragging.pageY0)%3B%0A%20%20%20%20%20%20%20%20%24(my_dragging.elem)%0A%20%20%20%20%20%20%20%20.offset(%7Btop%3A%20top%2C%20left%3A%20left%7D)%3B%0A%20%20%20%20%7D%0A%20%20%0A%20function%20handle_mouseup(e)%7B%0A%20%20%20%20%20%20%20%20%24('body')%0A%20%20%20%20%20%20%20%20.off('mousemove'%2C%20handle_dragging)%0A%20%20%20%20%20%20%20%20.off('mouseup'%2C%20handle_mouseup)%3B%0A%20%20%20%20%7D%0A%24('body')%0A%20%20%20%20.on('mouseup'%2C%20handle_mouseup)%0A%20%20%20%20.on('mousemove'%2C%20handle_dragging)%3B%0A%7D%7D)()%3B
